# 本地测试环境配置 - 最小化配置避免依赖问题
spring:
  main:
    web-application-type: none  # 禁用web环境，减少依赖
  datasource:
    dynamic:
      datasource:
        master:
          url: jdbc:mysql://localhost:30004/jeecg-boot?useUnicode=true&characterEncoding=utf8mb4&autoReconnect=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
          username: root
          password: Best@2008
          driver-class-name: com.mysql.cj.jdbc.Driver
  # 排除所有不必要的自动配置
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration
      - org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration
      - org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration
      - org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration
      - org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration
      - org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration
      - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
      - com.alibaba.druid.spring.boot.autoconfigure.DruidDataSourceAutoConfigure
      - org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
      - org.apache.shiro.spring.boot.autoconfigure.ShiroAutoConfiguration

# 最小化日志配置
logging:
  level:
    root: WARN
    org.jeecg: INFO
    org.springframework: ERROR
    org.hibernate: ERROR
    com.baomidou.mybatisplus: ERROR
    org.apache.ibatis: ERROR